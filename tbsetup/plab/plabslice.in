#!/usr/local/bin/python
# -*- python -*-
#
# EMULAB-COPYRIGHT
# Copyright (c) 2000-2003 University of Utah and the Flux Group.
# All rights reserved.
#

import sys
sys.path.append("@prefix@/lib")
import getopt
from libtestbed import *
import libplab

usage = "%prog [ -vd ] { create | destroy } pid eid"

def main(args):
    me = args[0]
    parser = TBParser(usage)
    (opts, args) = parser.parse_args()

    if len(args) < 3:
        parser.error("Incorrect number of arguments")

    command,pid,eid = args

    plab = libplab.Plab()
    if command == "create":
        slice = plab.createSlice(pid, eid)
    elif command == "destroy":
        slice = plab.loadSlice(pid, eid)
        slice.destroy()
    else:
        usage(me)

if __name__ == "__main__":
    main(sys.argv)
