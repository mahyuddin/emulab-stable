<?xml version="1.0" encoding="utf-8"?>
<areas:AreaContent xmlns:fx="http://ns.adobe.com/mxml/2009" 
				   xmlns:s="library://ns.adobe.com/flex/spark" 
				   xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:areas="com.flack.shared.display.areas.*">
	<fx:Script>
		<![CDATA[
			import com.flack.geni.GeniMain;
			import com.flack.geni.display.ChooseManagerWindow;
			import com.flack.geni.plugins.emulab.FirewallSliverType;
			import com.flack.geni.resources.sites.GeniManager;
			import com.flack.geni.resources.sites.GeniManagerCollection;
			import com.flack.geni.resources.virtual.Slice;
			import com.flack.geni.resources.virtual.VirtualNode;
			import com.flack.shared.FlackEvent;
			import com.flack.shared.SharedMain;
			
			import mx.core.FlexGlobals;
			
			public var slice:Slice;
			
			public function applyAndClose():void
			{
				SharedMain.sharedDispatcher.dispatchChanged(FlackEvent.CHANGED_SLICE, slice);
				close();
			}
			
			public function createEmpty():void
			{
				slice.removeAll();
				
				applyAndClose();
			}
			
			public function createEmptyWithFirewall():void
			{
				var askForManager:ChooseManagerWindow = new ChooseManagerWindow();
				askForManager.success = createEmptyWithFirewallOn;
				askForManager.ManagersToList = GeniMain.geniUniverse.managers.getBySupportedSliverType(FirewallSliverType.TYPE_FIREWALL);
				askForManager.showWindow();
			}
			
			public function createEmptyWithFirewallOn(newManager:GeniManager):void
			{
				slice.removeAll();
				
				var newFirewall:VirtualNode = new VirtualNode(slice, newManager, newManager.hrn+"-firewall", true, FirewallSliverType.TYPE_FIREWALL);
				slice.nodes.add(newFirewall);
				
				applyAndClose();
			}
			
			public function createLanWithDuplexLinkExample():void
			{
				slice.removeAll();
				
				
				
				applyAndClose();
			}
			
			public function createSimplexLinkExample():void
			{
				slice.removeAll();
				
				
				
				applyAndClose();
			}
			
			public function createDuplexLinkExample():void
			{
				slice.removeAll();
				
				
				
				applyAndClose();
			}
			
		]]>
	</fx:Script>
	<s:Scroller height="100%"
				width="100%">
		<s:HGroup width="100%"
				  height="100%"
				  gap="16"
				  horizontalAlign="center">
			<s:VGroup width="200"
					  height="100%"
					  horizontalAlign="center"
					  gap="8">
				<s:Label text="From scratch..."
						 fontWeight="bold" />
				<s:Button width="100%"
						  height="48"
						  label="Empty"
						  click="createEmpty()" />
			</s:VGroup>
			<s:VGroup width="200"
					  height="100%"
					  horizontalAlign="center"
					  gap="8">
				<s:Label text="From example..."
						 fontWeight="bold" />
				<s:Button width="100%"
						  height="48"
						  label="Raw PC"
						  click="createRawPc()" />
				<s:Button width="100%"
						  height="48"
						  label="OpenVZ VM"
						  click="createRawPc()" />
				<s:Button width="100%"
						  height="48"
						  label="LAN"
						  click="createLan()" />
				<s:Button width="100%"
						  height="48"
						  label="Tunnel"
						  click="createTunnel()" />
				<s:Button width="100%"
						  height="48"
						  label="Delay nodes"
						  click="createBatchModeExample()" />
			</s:VGroup>
		</s:HGroup>
	</s:Scroller>
</areas:AreaContent>
