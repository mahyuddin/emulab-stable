.TH RMACCT 8
.SH NAME
rmacct \- Remove accounts for the experiment identified by a user-supplied 
experiment ID.
.SH SYNOPSIS
.B rmacct
.RB [ \-nt ]
.RI  experiment-id 
.SH DESCRIPTION
.de SP
.if t .sp 0.4
.if n .sp
..
.B rmacct
removes accounts on machines reserved for the members of the given 
.RI experiment-id .
You must be root
to run 
.B rmacct.

The appropriate machines are found by querying the testbed 
database for all 
machines reserved for 
.RI experiment-id .  
Accounts will be deleted only if the machine is reachable and only for the 
currently booted OS. Only FreeBSD and Linux are supported OSes. Unless
otherwise specified, the
user directory /users/<login name> is tarred and deleted. The
tarball is placed in plastic:/tmp/<login name>.tar. 

.B rmacct 
will report descriptive errors 
and exit on the following conditions: if the 
.RI experiment-id
is not found in the testbed database, if the user is not root,
if a reserved machine is not reachable, or if the operating system for
a certain machine cannot be determined. 

.B rmacct
uses the standard locking mechanisms for password database modification
and, in that respect, is mt-safe. However, the testbed database has no 
coarse-grained locking
mechanism, however, so undefined behavior could result if other users
are modifying the testbed database while
.B mkacct
is running.
.SH OPTIONS
.TP
.B \-nt 
Do NOT create the tarfile in plastic:/tmp ("No Tar").
.SH FILES
.TP 25n
.B $CVSROOT/testbed/doc/man/rmacct.man

.SH "SEE ALSO"
.BR mkacct (8).
.SH NOTES
This command is specific to the Utah Testbed environment.
.SH BUGS
Not mt-safe (see above). Must run as root. Due to complexities that we
could not sort out, there is no convention for local disk space 
allocated. It is up to the user to save local disk space. Exiting isn't
the most robust error-handling for unreachable machines  or machines with
unknown OSes: skipping the problem machine and continuing would be better.
.SH AUTHOR
L. Kristin Wright (kwright@cs.utah.edu)

