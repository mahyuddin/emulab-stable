<!--
   EMULAB-COPYRIGHT
   Copyright (c) 2000-2004 University of Utah and the Flux Group.
   All rights reserved.
  -->
<center>
<h2>RDP to Node</h2>
</center>

<p>  This is used to connect to a Windows node in your experiment and get a
remote Windows Desktop using the Remote Desktop Protocol (RDP).  </p>

<p>First, you need an RDP client program installed on your computer:  </p>

<ul>

  <li> There is a nice open-source RDP client for Unix and Linux at 
       <a href="http://www.rdesktop.org/">www.rdesktop.org</a>.</li>

  <li> There is a Microsoft RDC (Remote Desktop Client) installed in
       Windows XP.  You can also install it from a Windows XP
       installation CD onto Windows 95 through 2000.  For details, see
       <a href="http://www.chicagotech.net/rdesktop.htm#How%20to%20install%20Remote%20Desktop%20Connection%20client">
       How to install Remote Desktop Connection client</a>.

</ul>

<p>Clicking "RDP to Node" in the Node Options page will send your
browser a "text/x-testbed-rdp" ".tbrdp" file. In FreeBSD or Linux, you
can save the file and pass it as an argument to
<code>rdp-mime.pl</code> or associate it with <code>rdp-mime.pl</code>
in your web browser. You can download the <code>rdp-mime.pl </code><a
href="rdp-mime.pl">Perl program here</a>.  </p>

<p>You can specify any display resolution (rdesktop window size) you
want in the rdp-mime.pl script.  The default is 1280x1024 but it
doesn't have to be one of the "normal" ones.  And you can switch back
and forth between sizes by just starting a new rdesktop with different
arguments and "grabbing" the rlogin session away from the previous
one.  </p>

<p>But once an rdesktop is started up, its display resolution is
fixed.  If you make it smaller than the previous one, Windows will
push your windows around to fit in the smaller space.  </p>

<p>
<font size='+1'><b>Instructions for Linux/FreeBSD:</b></font>
<ul>
<li>Move the <code>rdp-mime.pl</code> script into 
    a directory of your choice (<code>/usr/local/bin</code>, 
    or <code>~/bin</code> are two good places.)</li>
<li>Set up your browser to handle MIME type "text/x-testbed-rdp"
    as outlined below.</li>
<li>In the Web Interface Node view, click on the "RDP to Node" link.</li>
<li>If your browser is properly configured to use <code>rdp-mime.pl</code>,
    a new xterm window with an rdp session open to your node
    should emerge.</li>
</ul>
</li>

<ul>
  <li><font size='+1'><b>Linux/FreeBSD and Netscape 4.7:</b></font>
  <ul>
  <li>Choose <code>preferences</code> from the <code>edit</code> menu.</li>
  <li>Select <code>Navigator</code>, then <code>Applications</code> under
      it.</li>
  <li>Click the <code>New...</code> button.</li>
  <li>In the <code>MIMEType</code> box, type <code>text/x-testbed-rdp</code>
      </li>
  <li>In the <code>Suffixes</code> box, type <code>tbc</code></li>
  <li>Choose <code>Application</code> in the <code>Handled by</code>
      box</li>
  <li>Next to <code>Application</code>, either type the path to the
      <code>rdp-mime.pl</code> script, or use <code>Choose...</code> to find
      it.</li>
  <li>Now, <b>be sure to</b> put a space, then <code>%s</code> after the
      path to the application in the box. This tells netscape to actually
      pass the control file into rdp-mime.pl (Mozilla does not require this;
      see below.)</li>
  <li>Click <code>OK</code>, then <code>OK</code> again.</li>
  </ul> 
  </li>

  <li><font size='+1'><b>Linux/FreeBSD and Mozilla:</b></font>
  <ul>
  <li>Choose <code>preferences</code> from the <code>edit</code> menu.</li>
  <li>Select <code>Navigator</code>, then <code>Helper Applications</code> 
      under it.</li>
  <li>Click the <code>New Type...</code> button.</li>
  <li>In the <code>MIMEType</code> box, 
      type <code>text/x-testbed-rdp</code></li>
  <li>In the <code>File extension</code> box, type <code>tbc</code></li>
  <li>For <code>Application to use</code>, either type the path to the
      <code>rdp-mime.pl</code> script, or use <code>Choose...</code> to find
      it.</li>
  <li>In Mozilla do <b>not</b> add a <code>%s</code>.</li>
  <li>Click <code>OK</code>, then <code>OK</code> again.</li>
  </ul>
  </li>

  <li><font size='+1'><b>Linux/FreeBSD and Opera:</b></font>
  <ul>
  <li>Choose <code>preferences</code> from the <code>File</code> menu.</li>
  <li>Select <code>Applications</code>, then <code>File Types</code> 
      under it.</li>
  <li>Click the <code>New ...</code> button.</li>
  <li>In the <code>MIMEType</code> box, 
      type <code>text/x-testbed-rdp</code></li>
  <li>In the <code>File extension</code> box, type <code>tbc</code></li>
  <li>For <code>Open with other application</code>, either type the path to 
      the <code>rdp-mime.pl</code> script, or use <code>Choose...</code> to 
      find it.</li>
  <li>In Opera do <b>not</b> add a <code>%s</code>.</li>
  <li>Click <code>OK</code>, then <code>OK</code> again.</li>
  </ul>
  </li>
</ul>

<font size='+1'><b>Instructions for Windows:</b></font>
<ul>
   <li>Sorry, no windows support yet, although the script is really
   simple, and should be trivially convertable to a windows batch
   file, or even a windows Perl script if you care to install Perl on
   your windows machine. 
</ul>
</p>
