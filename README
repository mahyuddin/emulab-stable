This is a snapshot of the current source code for the software that runs
Netbed (Emulab++) at the University of Utah, as well as testbeds at other
sites:
   http://www.emulab.net/

This is a snapshot of a rapidly-evolving system, rather than an engineered
release. It contains all Netbed source required to build a running testbed, but
interaction with Utah will almost certainly be required to get things up and
running.

Netbed is being actively developed, so there will be features on deployed
Netbeds that are not included in this snapshot. Contact us (contact info at the
bottom of this file) if you are interested in receiving an updated version of
this source.

HOW TO
Copy and localize the 'defs-example' file for your environment
and run "./configure".  See doc/setup.txt for details.

This source currently only builds on FreeBSD, and requires several packages;
the dependencies can be found in the Makefile for our 'meta-port' in
install/ports/emulab-boss .

DOCUMENTATION
This is a snapshot, not a formal distribution, so don't expect
great documentation.

doc/* contains documentation for developers.
www/*.html and www/doc/*.html contain end-user documentation.

Good places to start would include:
  - The doc/papers directory, which contains papers published about Nebed
  - The user tutorial (www/tutorial/tutorial.html)
  - The user FAQ (www/faq.html)
  - The user authorization document (www/auth.html)
  - Software architecture preliminary diagram (doc/arch-diagram.ps)
  - Notes on the source tree and architecture (doc/arch.txt)
  - Overview of some major systems (doc/overview.txt)
  - Diagrams and brief explanations of the state machines used in the 
    system (www/doc/states.html and www/doc/*.gif)
  - The instructions for building a running system from scratch (doc/setup*.txt)
  - Mail we have exchanged with others about hardware recommendations
    (doc/hardware-mail.mbox)

QUICK TOUR
 - The Database maintains most testbed state.
   - LibDB (db/libdb.pm.in) is the main DB interface for testbed software.
   - sql/database-create.sql contains the DB schema.
   
 - The Web Interface (www/*) is the primary means of managing the system.   

 - startexp (tbsetup/startexp.in) is the backend for experiment creation;
   Important scripts it calls include tbprerun (tbsetup/tbprerun.in) 
   and tbswap (tbsetup/tbswap.in).

 - ns2ir (tbsetup/ns2ir/*) converts NS files to DB state (via TCL). 
 - assign (assign/*) maps experiments to available hardware.
 - snmpit (tbsetup/snmpit.in) configures VLANs on switch hardware.
 - frisbee (os/frisbee.redux/*) uses multicast to rapidly deploy disk images.
 - tmcd (tmcd/*) is contacted by nodes as they boot up, to get configuration.
 - capture and console (capture/*, tip/*) provide serial line access to nodes.

SOURCE TREE ORGANIZATION
account   -  Account creation and management
apache    -  Apache HTTPD configuration
assign    -  Resource allocation software
capture   -  Node serial line server software
cdrom     -  Configuration files for remote nodes
db        -  Variety of interfaces to testbed state 
dhcpd     -  DHCPD configuration
doc       -  Documentation (mainly internal)
event     -  Event System
install   -  Site installation scripts
ipod      -  "Ping of Death" software
ir        -  NS-to-database interpreter (in TCL)
lib       -  C++ database interface library
os        -  Software for saving/distributing images (incl. Frisbee)
patches   -  Patches needed to compile software
pxe       -  Intel PXE support
security  -  Tools for secure boss node access
sensors   -  Node monitoring daemons
sql       -  Database schema and initialization
ssl       -  SSL Certificate configurations
sysadmin  -  Apache Log Roller
tbsetup   -  Experiment creation and manipulation
testsuite -  Automated testing suite
tip       -  Node serial line client software
tmcd      -  Testbed master control daemon (for node configuration)
tools     -  pcapper tool
utils     -  Testbed configuration and maintenence tools
vis       -  Experiment visualization
www       -  Web Interface / User Documentation

HELP/CONTACT INFORMATION
For help and to report bugs and problems, mail
    testbed-ops@flux.utah.edu

Don't be shy!  
We are happy to get on the phone with you, too,
for "big picture" issues and problems.


Jay Lepreau, lepreau@cs.utah.edu, 801-581-4285, and the Utah testbed crew.
April 30, 2003
