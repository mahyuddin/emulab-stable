#
# EMULAB-COPYRIGHT
# Copyright (c) 2000-2004 University of Utah and the Flux Group.
# All rights reserved.
#

SRCDIR		= @srcdir@
TESTBED_SRCDIR	= @top_srcdir@
OBJDIR		= ../..
SUBDIR		= os/dijkstra

include $(OBJDIR)/Makeconf

CXXFLAGS	= -Wall -O2 -I/usr/local/include -ftemplate-depth-30 -g

all:	dijkstra

include $(TESTBED_SRCDIR)/GNUmakerules

dijkstra:	dijkstra.o bitmath.o Compressor.o IpTree.o SingleSource.o \
                bitmath.h Exception.h SingleSource.h IpTree.h dijkstra.h \
                Compressor.h lib.h
	$(CXX) $(CXXFLAGS) -static dijkstra.o bitmath.o Compressor.o IpTree.o SingleSource.o $(LIBS) -o dijkstra

client: all
client-install: client
	$(INSTALL_PROGRAM) -s dijkstra$(EXE) $(DESTDIR)$(CLIENT_BINDIR)/dijkstra$(EXE)

clean:
	rm -f *.o dijkstra

